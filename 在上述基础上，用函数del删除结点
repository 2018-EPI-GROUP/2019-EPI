#include<stdio.h>
#include<stdlib.h>
struct Student
{
	int num;
	float score;
	Student* prev;  //此处为增加的指向上一个结构体变量的指针
    Student* next;
};
Student* input();
void print(Student* stu);
Student* del(Student* stu, float n);
int main()
{
	Student* stud;
	stud = input();
	print(del(stud, 99));
	system("pause");
	return 0;
}
Student* input()
{
	Student* p1, * p2, * head;
	int n = 0;
	p1 = p2 = (Student*)malloc(sizeof(Student));
	printf("Please enter No.%dstudent info:", n + 1);
	scanf("%d%f", &p1->num, &p1->score);
	head = NULL;
	while (p1->num != 0)
	{
		n++;if (n == 1)
		{
			head = p1;p1->prev = NULL;
		}
		else { p2->next = p1;p1->prev = p2; }
		p2 = p1;p1 = (Student*)malloc(sizeof(Student));
		printf("Please enter No.%dstudent info:", n + 1);
		scanf("%d%f", &p1->num, &p1->score);
		}
	p2->next = NULL;
	return head;
	}
void print(Student* stu)
{
	Student* p;
	for (p = stu;p != NULL;p = p->next)
		printf("%d%2f\n", p->num, p->score);
}
Student* del(Student* stu, float n)
{
	Student* p, * head;
	for(p=stu,head=p;p!=NULL;p=p->next)
		if (p->score == n)
		{
			if (head == p)head = p->next;
			else if (p->next = NULL)p->prev->next = NULL;
			else p->prev->next = p->next;
		}
	return head;
}




